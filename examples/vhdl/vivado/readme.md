# Vivado and VUnit example
The purpose of this example is to show an example of how compilation
and behavioral simulation of Vivado IPs can be performed in a VUnit
project. In this example a simple Vivado project with a single fifo IP
is generated by a script. The Vivado project is generated just to have
a project for the example and is beside the point. The user can
substitute his or her manually created or generated project.

The example demonstrates two key tasks to automate simulation with Vivado:

1. Compile the Vivado standard libraries; unisim, etc using the
   simulator of choice and add them to VUnit as external libraries. If
   the user have these libraries pre-compiled in some other for they
   can skip this automation and add them as external libraries
   manually.

2. Generate the behavioral simulation files for all IP:s (XCI-files) within a
   project and add them to the VUnit project.

Tested with Vivado 2018.1 and RivieraPro on a Windows 10 machine.
Should work on Linux or with Modelsim as well, if it does not let us know.

## Outputs
Created by generate_vivado_project.py:
- Vivado project is generated into myproject together with ip in my_project_ip.

Created by run.py
- Standard libraries are compiled into vivado_libs/standard/
- Project ip libraries are compiled into vivado_libs/project_ip/

Project and standard libraries are are re-used and not re-compiled on
subsequent run.py invocations. Remove the project ip folder when
changeing the project to cause re-compilation.

## Running
```shell
python generate_vivado_project.py
python run.py
```

## Requirements
- Vivado should be available in the [PATH](https://en.wikipedia.org/wiki/PATH_(variable)) environment variable.
- VUnit
- A simulator supported by Vivado
